# v1.0 Assumptions & Services

While writing this assumption, I am guided by these questions:

1. What keywords do I not understand?
2. Where am I currently knowlegeable of?
3. This requirement is under which deployment category for infrastructure as code using azure bicep project.
4. Why do I need this resource?

With this project, considering the requirement, the design of the architecture, project description and user stories I come up with this assumption

1. As a beginner, reading the project description at first, I could not visualize the end result of this project. But by researching the IaC, I understood that I should deploy resources written as code.

Services: IaC using Azure Bicep

2. I should submit a GitHub repository with .bicep file.

Services: GitHub + GitHub Tag + VSCode

3. We have a maximum budget of 50 euros, so I assume to choose the resources that is cost effective.
4. By research what Azure Bicep is and how to use it, I should start on VSCode to write my code and check what kind of dependencies I should have while connecting bicep to my vscode.
5. We have two versions of the project, to use the best practices, I should use Git Tag to create a release.
6. I divided my task with these categories (with security and access my top priority):

- Exploration
- Secure Network Deployment
- Access and Security
- Infrastructure Deployment
- Web Server Deployment
- Management Server Deployment
- Storage Solution for Scripts
- Data Encryption
- Backup Retention
- Application Usage Documentation
- MVP Deployment

7. "All VM disks must be encrypted."
   This requirement falls under the category of "Security" in the infrastructure as code (IaC) using Azure Bicep project. At first I thought it's about storage, but with the encrypted keyword, I should focus here on security. Aside from this is the most logic way to do, this is also a best practice to encrypt a VM disk as it adds as an additional layer of security to virtual machines and safeguard data. Encrypting data helps to protect sensitive data from unauthorised access.

Services:

- Azure Disk Encryption or Azure Disk Encryption with Azure Key Vault
- Linux web server ---------------------

8. "The Web server should be backed up daily. Backups must be retained for 7 days."
   This requirement falls under the category of "Backup and Disaster Recovery" in the infrastructure as code (IaC) using Azure Bicep project. This brings me back to the basic of why we should implement a back up plan. This is to ensure the data protection and continuity of the trust with the business. This is to protect the web server and the data save in it from unforeseen event or system failures.

Services: Azure Backup

9. "The Web server must be installed in an automated manner."
   This requirement falls under the category of "Deployment and Configuration Management" in the infrastructure as code (IaC) using Azure Bicep project. Automating means eliminating manual and error-prone steps. With this I need to define scripts following Azure Bicep syntax and parameters to automate the installation. The sense of using IaC is to easier management and maintenance of the cloud infrastracture, automating installation of the web server is making it easier to update or replicate the web server in the future.

Services: Azure Automation, PowerShell DSC, or custom scripts to ensure a repeatable and scalable deployment process.

10. "The admin/management server must be reachable by a public IP."
    This requirement falls under the category of "Networking and Connectivity" in the infrastructure as code (IaC) using Azure Bicep project.

Analysing this requirement, I understand that public IP make it possible for the admin/management server communicate and interact with other resources within the network.

In Azure, a network interface is a virtual networking component that connects virtual machines (VMs) and other resources.

In my Bicep script, I should assign a public IP address to the admin/management server or virtual machine, but first connecting both of them using Network Interface resource.

Services: script to define the necessary configurations and settings in Azure Bicep code to assign a public IP address to the admin/management server, connecting with Network Interface resource

11. "The admin/management server should be accessible only from trusted locations (office/admin's home)"
    This requirement falls under the category of Network Security and Access Control in the infrastructure-as-code (IaC) using Azure Bicep project.

"The following IP ranges are used: 10.10.10.0/24 & 10.20.20.0/24"

This reminds me of defining range of IP address, these range should represent the trusted locations.

Configuring Network Security Groups (NSGs) or firewall rules to allow inbound connections only from the specified IP ranges.

I could implement a network-level access control to ensure that only authorized users from trusted locations can access the admin/management server.

Services: configuring Network Security Groups (NSGs) or firewall rules to allow inbound connections only from the specified IP ranges.

Conditional Access and MFA??????

12. "All subnets must be protected by a firewall at the subnet level."

The requirement falls under the category of Network Security and Access Control in the infrastructure-as-code (IaC) using Azure Bicep project.

Why do we need to protect subnets at the subnet level? That question first comes to my mind, by using a firewall at subnet level I think we:

1. add an additional layer of defense to the network architecture (Defense in Depth)
2. Divide out network into smaller units, by doing this we minimize the communication between subnets, effectively containing potential security incidents and limiting their impact to a specific subnet.
3. Having firewalls at the subnet level allows for easier management and maintenance of security policies.

Services: I need to create subnets inside Vnet. Then I need to configure network security groups (NSGs) or firewalls to control inbound and outbound traffic at the subnet level.

13. "SSH or RDP connections to the Web server should only be established from the admin server."

The requirement falls under the "Network Security" deployment category for infrastructure as code using Azure Bicep.

From the other requirements above, focuses on controlling and restricting network access. This is also another security measure that limits access to the web server from a trusted source.

To simplify this, Only the IP addresses from the admin server can access the web server.

Because I would like to prioritize security on top I will use SSH connections with Linux OS

Services: defining network security rules or access control lists (ACLs) that allow incoming SSH or RDP traffic only from the IP address of the admin server. configuring the network security group (NSG) associated with the web server subnet to allow inbound connections from the specific IP address or IP range of the admin server.

### Project Additional Services:

Azure VMSS
Azure Policy
Azure AD
Load balancing

Best practice

Kijk naar architecture
